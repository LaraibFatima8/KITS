<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLanzo Smart Planner Kit Manual</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        /* Using a more modern font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            width: 90%;
            max-width: 900px;
            margin: auto;
            overflow: hidden;
            padding: 0 20px;
        }
        header {
            background: #8B5CF6;
            color: #fff;
            padding: 2.5rem 0;
            text-align: center;
            border-bottom: #A78BFA 5px solid;
        }
        header h1 {
            font-size: 2.8em;
            font-weight: 700;
            margin: 0;
        }
        header p {
            font-size: 1.2em;
            margin-top: 0.5rem;
        }
        .section {
            background: #fff;
            margin: 25px 0;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .section h2 {
            font-size: 1.8em;
            color: #8B5CF6;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .section h3 {
            font-size: 1.4em;
            color: #A78BFA;
            margin-top: 25px;
        }
        .parts-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .parts-table th, .parts-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .parts-table th {
            background-color: #8B5CF6;
            color: white;
            font-weight: 500;
        }
        img.step-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 25px auto;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            white-space: pre;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.95em;
        }
        .tip {
            background: #f3e8ff;
            border-left: 5px solid #8B5CF6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .tip h4 {
            margin-top: 0;
            color: #8B5CF6;
        }
        /* PDF Download Button Styles */
        #pdfButton {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #8B5CF6;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease;
            z-index: 1000;
        }
        #pdfButton:hover {
            background-color: #7C3AED;
        }
    </style>
</head>
<body>
    <button id="pdfButton">Download as PDF</button>
    
    <div id="contentToPrint">
        <header>
            <div class="container">
                <h1>PLanzo Smart Planner Kit!</h1>
                <p>Your Journey into Smart Time Management Starts Here!</p>
                <img src="images/kit-planzo.png" alt="A beautiful shot of the finished PLanzo Smart Planner" style="max-width: 400px; margin-top: 20px; border-radius: 8px;">
            </div>
        </header>

        <div class="container">
            <div class="section">
                <h2>Welcome to Smart Planning!</h2>
                <p>Congratulations on getting your PLanzo Smart Planner kit! This isn't just any ordinary planner - it's a smart device that combines gesture control, LED displays, and intuitive programming to help you manage your time effectively. Whether you're new to electronics or an experienced maker, this guide will walk you through every step of building your smart planner.</p>
                <div class="tip">
                    <h4>What you will learn:</h4>
                    <ul>
                        <li><b>Electronics Assembly:</b> How to connect displays, sensors, and microcontrollers.</li>
                        <li><b>Gesture Control:</b> How to implement intuitive hand gesture recognition.</li>
                        <li><b>Programming:</b> How to write code for timing and display functions.</li>
                        <li><b>User Interface:</b> How to create an interactive LED display system.</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>What's In Your Kit?</h2>
                <p>Before starting assembly, verify that you have all the components listed below:</p>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <img src="planzo_pngs/breadboard.png" alt="Breadboard components" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/c-type cable.png" alt="C-type cable" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/gesture sensor.png" alt="Gesture sensor" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/oled.png" alt="OLED display" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/wires.png" alt="Connecting wires" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/buzzer.png" alt="Piezo buzzer" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/ESPC3.png" alt="ESP32-C3 microcontroller" style="width: 100%; height: auto; object-fit: contain;">
                    <img src="planzo_pngs/case.png" alt="Protective case" style="width: 100%; height: auto; object-fit: contain;">
                </div>
                <table class="parts-table">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Description</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>ESP32 Board</td><td>The brain of your smart planner</td><td>1</td></tr>
                        <tr><td>APDS-9960 Gesture Sensor</td><td>Detects hand movements for control</td><td>1</td></tr>
                        <tr><td>0.96" OLED Display</td><td>Shows time and menu options</td><td>1</td></tr>
                        <tr><td>Neopixel LED Strip</td><td>Visual indicators and ambient lighting</td><td>1</td></tr>
                        <tr><td>Piezo Buzzer</td><td>For alarms and notifications</td><td>1</td></tr>
                        <tr><td>3D Printed Case</td><td>Housing for electronics</td><td>1 set</td></tr>
                        <tr><td>USB-C Cable</td><td>For programming and power</td><td>1</td></tr>
                        <tr><td>Battery Pack</td><td>Portable power source</td><td>1</td></tr>
                        <tr><td>Screws & Hardware</td><td>For assembly</td><td>1 set</td></tr>
                        <tr><td>Jumper Wires</td><td>For connecting components</td><td>20</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="section">
                <h2>Step-by-Step Assembly</h2>

                <h3>Step 1: Prepare the Case</h3>
                <p><b>Instruction:</b> Remove the 3D printed parts from the kit. Clean any support material and test-fit the pieces together.</p>
                <img src="planzo_pngs/prepare-case.png" alt="3D printed case parts laid out" class="step-image">

                <h3>Step 2: Mount the ESP32</h3>
                <p><b>Instruction:</b> Place the ESP32 board in its designated slot in the bottom case. Secure with 4 small screws.</p>
                <img src="planzo_pngs/ESP-ON-BREADBOARD.png" alt="ESP32 mounting process" class="step-image">

                <h3>Step 3: Install the OLED Display</h3>
                <p><b>Instruction:</b> Carefully insert the OLED display into the front panel mount. Secure with mounting tape.</p>
                <img src="planzo_pngs/install-oled.png" alt="OLED display installation" class="step-image">

                <h3>Step 4: Add the Gesture Sensor</h3>
                <p><b>Instruction:</b> Mount the APDS-9960 gesture sensor in the top slot, ensuring it's oriented correctly.</p>
                <img src="planzo_pngs/install-sensor.png" alt="Gesture sensor installation" class="step-image">

                <h3>Step 5: Install ESP32 and Breadboard</h3>
                <p><b>Instruction:</b> Place the ESP32 onto the breadboard ensuring proper pin alignment. Connect the breadboard to the main assembly using the provided mounting brackets.</p>
                <img src="planzo_pngs/install-breadboard.png" alt="ESP32 and breadboard installation" class="step-image">
            </div>
            
            <div class="section">
                <h2>Wiring Guide</h2>
                <p>Follow this wiring diagram carefully to connect all components:</p>
                <img src="images/kit-planzo.png" alt="Wiring diagram for PLanzo" class="step-image">
                <div class="tip">
                    <h4>Connection Summary:</h4>
                    <ul>
                        <li><b>OLED Display:</b> Connect to I2C pins (SDA: GPIO21, SCL: GPIO22)</li>
                        <li><b>Gesture Sensor:</b> Connect to I2C bus (same pins as OLED)</li>
                        <li><b>LED Strip:</b> Connect to GPIO16 for data</li>
                        <li><b>Buzzer:</b> Connect to GPIO17</li>
                        <li><b>Battery Pack:</b> Connect to 5V and GND</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Install Case Covering</h2>
                <p>Once all components are wired and secured, it's time to close the case:</p>
                <h3>Final Assembly Step</h3>
                <p><b>Instruction:</b> Carefully align the top cover with the base, ensuring no wires are pinched. Press down gently until all clips engage securely.</p>
                <img src="planzo_pngs/close-cover.png" alt="Closing the protective case" class="step-image">
                <div class="tip">
                    <h4>Important Notes:</h4>
                    <ul>
                        <li>Make sure all components are properly seated before closing</li>
                        <li>Check that wires are not blocking the cover from closing completely</li>
                        <li>Ensure the gesture sensor and OLED display are accessible through their respective openings</li>
                        <li>Test all connections before final closure</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Programming Your PLanzo</h2>
                <p>Upload this basic code to get started with your smart planner:</p>
                <div class="code-block">
<pre>#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <Adafruit_APDS9960.h>
#include <Adafruit_NeoPixel.h>

// Pin Definitions
#define LED_PIN     16
#define BUZZER_PIN  17
#define LED_COUNT   16

// Initialize Objects
Adafruit_SSD1306 display(128, 64, &Wire, -1);
Adafruit_APDS9960 apds;
Adafruit_NeoPixel strip(LED_COUNT, LED_PIN, NEO_GRB + NEO_KHZ800);

// Variables
int currentMode = 0;  // 0=Clock, 1=Timer, 2=Stopwatch
unsigned long timerStart = 0;

void setup() {
  // Initialize Display
  display.begin(SSD1306_SWITCHCAPVCC, 0x3C);
  display.clearDisplay();
  
  // Initialize Gesture Sensor
  apds.begin();
  apds.enableGesture(true);
  
  // Initialize LED Strip
  strip.begin();
  strip.show();
  
  // Initialize Buzzer
  pinMode(BUZZER_PIN, OUTPUT);
}

void loop() {
  // Read Gestures
  uint8_t gesture = apds.readGesture();
  if (gesture == APDS9960_RIGHT) {
    currentMode = (currentMode + 1) % 3;
  }
  
  // Update Display
  display.clearDisplay();
  display.setTextSize(2);
  display.setTextColor(WHITE);
  display.setCursor(0,0);
  
  switch(currentMode) {
    case 0:
      displayClock();
      break;
    case 1:
      displayTimer();
      break;
    case 2:
      displayStopwatch();
      break;
  }
  
  display.display();
  delay(100);
}

void displayClock() {
  // Add your clock display code here
}

void displayTimer() {
  // Add your timer display code here
}

void displayStopwatch() {
  // Add your stopwatch display code here
}</pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('pdfButton').addEventListener('click', function() {
            const element = document.getElementById('contentToPrint');
            const opt = {
              margin: 0.5,
              filename: 'planzo-manual.pdf',
              image: { type: 'jpeg', quality: 0.98 },
              html2canvas: { scale: 2, useCORS: true },
              jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        });
    </script>
</body>
</html>
